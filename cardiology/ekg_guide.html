<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ECG Stepwise Guide</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    :root {
      --cardiology-main: #e53935;
      --cardiology-light: #ffebee;
      --cardiology-accent: #c62828;
      --bg: #fdfdfd;
      --text-main: #222;
      --text-muted: #555;
      --card-shadow: 0 4px 12px rgba(0,0,0,0.08);
      --radius-lg: 14px;
      --radius-pill: 999px;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        Roboto, sans-serif;
      background: linear-gradient(135deg, #fff, #ffeef0);
      color: var(--text-main);
      padding: 16px;
    }

    .page {
      max-width: 1100px;
      margin: 0 auto 32px;
      background: rgba(255,255,255,0.96);
      border-radius: 20px;
      box-shadow: var(--card-shadow);
      padding: 20px 16px 24px;
    }

    @media (min-width: 768px) {
      .page { padding: 28px 32px 32px; }
    }

    header {
      display: flex;
      flex-direction: column;
      gap: 12px;
      margin-bottom: 20px;
    }

    @media (min-width: 640px) {
      header {
        flex-direction: row;
        justify-content: space-between;
        align-items: center;
      }
    }

    .title-block h1 {
      margin: 0;
      font-size: 1.8rem;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .title-pill {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      background: var(--cardiology-light);
      color: var(--cardiology-accent);
      padding: 4px 10px;
      border-radius: var(--radius-pill);
      font-size: 0.8rem;
      font-weight: 600;
      width: fit-content;
    }

    .title-pill span.emoji { font-size: 1rem; }

    .subtitle {
      margin: 4px 0 0;
      font-size: 0.9rem;
      color: var(--text-muted);
      max-width: 760px;
      line-height: 1.35;
    }

    .nav-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      justify-content: flex-end;
    }

    .btn {
      border: none;
      border-radius: var(--radius-pill);
      padding: 8px 14px;
      font-size: 0.85rem;
      font-weight: 600;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      text-decoration: none;
      transition: transform 0.08s ease, box-shadow 0.08s ease,
        background 0.15s ease, color 0.15s ease;
      user-select: none;
    }

    .btn-primary {
      background: var(--cardiology-main);
      color: #fff;
      box-shadow: 0 3px 8px rgba(229,57,53,0.35);
    }

    .btn-primary:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 10px rgba(229,57,53,0.4);
    }

    .btn-ghost {
      background: #fff;
      color: var(--cardiology-accent);
      border: 1px solid rgba(198,40,40,0.18);
    }

    .btn-ghost:hover { background: var(--cardiology-light); }

    .pill {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-size: 0.75rem;
      padding: 3px 9px;
      border-radius: var(--radius-pill);
      background: #fff5f5;
      color: var(--cardiology-accent);
      border: 1px solid rgba(229,57,53,0.22);
      font-weight: 600;
      margin-left: 4px;
      white-space: nowrap;
    }

    .two-column {
      display: grid;
      grid-template-columns: minmax(0, 2fr) minmax(0, 1.1fr);
      gap: 18px;
      margin-bottom: 20px;
    }

    @media (max-width: 900px) {
      .two-column { grid-template-columns: minmax(0, 1fr); }
    }

    .card {
      background: #ffffff;
      border-radius: var(--radius-lg);
      box-shadow: var(--card-shadow);
      padding: 16px 16px 18px;
      margin-bottom: 16px;
    }

    .card h2 {
      margin: 0 0 8px;
      font-size: 1.15rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
      flex-wrap: wrap;
    }

    .card h3 {
      margin: 12px 0 6px;
      font-size: 1rem;
    }

    .step-badge {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      min-width: 26px;
      height: 26px;
      border-radius: 999px;
      background: var(--cardiology-main);
      color: #fff;
      font-size: 0.85rem;
      font-weight: 700;
      margin-right: 8px;
      flex: 0 0 auto;
    }

    .step-body {
      font-size: 0.9rem;
      color: var(--text-muted);
      line-height: 1.35;
    }

    ul {
      margin: 6px 0 6px 18px;
      padding: 0;
      font-size: 0.88rem;
      color: var(--text-muted);
      line-height: 1.35;
    }

    li { margin-bottom: 4px; }

    .inline-list {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 6px;
    }

    .tag {
      font-size: 0.7rem;
      padding: 3px 8px;
      border-radius: var(--radius-pill);
      background: #f5f5f5;
      color: #555;
    }

    .tag-danger { background: #ffebee; color: #c62828; }
    .tag-ok { background: #e8f5e9; color: #2e7d32; }
    .tag-neutral { background: #e3f2fd; color: #1565c0; }

    .section-title {
      margin: 18px 0 8px;
      font-size: 1.1rem;
      font-weight: 700;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .section-title span.icon { font-size: 1.2rem; }

    .footer-note {
      margin-top: 16px;
      font-size: 0.8rem;
      color: #777;
      text-align: right;
    }

    .mini-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
      gap: 10px;
    }

    .mini-card {
      background: #fff;
      border-radius: 10px;
      padding: 10px 11px;
      border: 1px solid #f0d6d6;
      font-size: 0.8rem;
    }

    .mini-card h4 {
      margin: 0 0 4px;
      font-size: 0.9rem;
      color: #1f2937;
    }

    /* ---------- Images: sized + clickable (ONLY CHANGE) ---------- */
    .image-block {
      margin: 10px auto 6px;
      max-width: 520px;
      border-radius: 12px;
      border: 1px solid rgba(198,40,40,0.25);
      background: #fff;
      padding: 8px;
    }

    @media (max-width: 520px) {
      .image-block { max-width: 100%; }
    }

    .image-block img {
      width: 100%;
      max-width: 480px;
      max-height: 220px;
      object-fit: contain;
      height: auto;
      border-radius: 8px;
      display: block;
      margin: 0 auto;
      cursor: zoom-in;
    }

    .image-block img:hover {
      outline: 2px solid rgba(229,57,53,0.35);
    }

    .image-caption {
      margin-top: 6px;
      font-size: 0.75rem;
      color: #555;
      text-align: center;
      line-height: 1.25;
    }

    /* Modal */
    #imageModal {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.86);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      padding: 18px;
    }

    #imageModal img {
      max-width: 92vw;
      max-height: 92vh;
      border-radius: 10px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.4);
    }

    #modalClose {
      position: fixed;
      top: 14px;
      right: 18px;
      font-size: 36px;
      color: #fff;
      cursor: pointer;
      font-weight: 800;
      user-select: none;
      line-height: 1;
    }

    #modalHint {
      position: fixed;
      bottom: 14px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 12px;
      color: rgba(255,255,255,0.85);
      background: rgba(0,0,0,0.35);
      padding: 8px 10px;
      border-radius: 999px;
      user-select: none;
    }

    kbd {
      background: rgba(255,255,255,0.1);
      border: 1px solid rgba(255,255,255,0.25);
      border-bottom-width: 2px;
      padding: 2px 6px;
      border-radius: 6px;
      font-size: 12px;
      color: rgba(255,255,255,0.9);
    }
  </style>
</head>
<body>
  <div class="page">
    <header>
      <div class="title-block">
        <div class="title-pill">
          <span class="emoji">‚ù§Ô∏è</span>
          <span>Cardiology &middot; ECG</span>
        </div>
        <h1>ECG Stepwise Guide</h1>
        <p class="subtitle">
          Structured ‚Äúcookbook‚Äù approach from rhythm ‚Üí rate ‚Üí axis ‚Üí intervals ‚Üí
          hypertrophy ‚Üí ischemia / infarct ‚Üí ST‚ÄìT ‚Üí QT / electrolytes.
        </p>
      </div>
      <div class="nav-buttons">
        <a href="../index.html" class="btn btn-ghost">üè† Home</a>
        <a href="../cardiology.html" class="btn btn-ghost">‚¨Ö Back to Cardiology</a>
        <a href="ekg_interpreter.html" class="btn btn-primary">üßÆ Open ECG Interpreter Tool</a>
      </div>
    </header>

    <section class="card">
      <h2>Overview <span class="pill">Cookbook style</span></h2>
      <div class="step-body">
        Use the same sequence every time you look at a tracing. That keeps you
        from jumping straight to ‚ÄúSTEMI or not?‚Äù and missing rhythm, blocks, or
        dangerous intervals.
        <ul>
          <li>Step 1‚Äì2: rhythm &amp; rate</li>
          <li>Step 3‚Äì5: P waves, PR, axis</li>
          <li>Step 6‚Äì8: QRS width, rotation, voltage / hypertrophy</li>
          <li>Step 9‚Äì10: Q waves, ST segment &amp; T waves</li>
          <li>Step 11: QT interval, U waves, electrolytes</li>
        </ul>
        <div class="inline-list">
          <span class="tag-ok">Green = normal</span>
          <span class="tag-danger">Red = ‚Äúdo not miss‚Äù</span>
          <span class="tag-neutral">Blue = pattern recognition</span>
        </div>
      </div>
    </section>

    <section class="two-column">
      <div class="card">
        <h2><span><span class="step-badge">1</span> Rhythm &amp; sinus check</span></h2>
        <div class="step-body">
          Ask yourself:
          <ul>
            <li>Is there a P wave before each QRS?</li>
            <li>Are P waves upright in leads I and II?</li>
            <li>Are PR and RR intervals reasonably regular?</li>
          </ul>
          If yes, you likely have <strong>sinus rhythm</strong>. If not, think atrial
          fibrillation/flutter, junctional, ventricular, or paced rhythms.
          <div class="inline-list">
            <span class="tag-ok">Sinus rhythm: P ‚Üí QRS ‚Üí T, regular</span>
            <span class="tag-danger">Irregularly irregular: think AF</span>
          </div>

          <div class="image-block">
            <img src="ekg_images/basic_waves_p_qrs_t.png" alt="P-QRS-T labeled ECG example" data-zoom tabindex="0" role="button" />
            <div class="image-caption">Basic P‚ÄìQRS‚ÄìT identification (click to enlarge)</div>
          </div>
        </div>
      </div>

      <div class="card">
        <h2><span><span class="step-badge">2</span> Heart rate</span></h2>
        <div class="step-body">
          For a regular rhythm, use the big-box method:
          <ul>
            <li>Heart rate ‚âà <strong>300 √∑</strong> number of large boxes between QRS peaks.</li>
            <li>Landmarks: 1 box ‚âà 300, 2 ‚âà 150, 3 ‚âà 100, 4 ‚âà 75, 5 ‚âà 60, 6 ‚âà 50 bpm.</li>
          </ul>
          For irregular rhythms, count complexes in 10 seconds and multiply by 6.

          <div class="image-block">
            <img src="ekg_images/rate_300_rule.png" alt="300 rule example strip" data-zoom tabindex="0" role="button" />
            <div class="image-caption">300-rule example (click to enlarge)</div>
          </div>
        </div>
      </div>
    </section>

    <section class="section-title"><span class="icon">üß≠</span> Steps 3‚Äì5: P waves, PR interval, axis</section>

    <section class="two-column">
      <div class="card">
        <h2><span><span class="step-badge">3</span> P waves &amp; atrial size</span></h2>
        <div class="step-body">
          Look at II, III, aVF and V1.
          <ul>
            <li><strong>Right atrial enlargement</strong>: tall, peaked P (&gt;2.5 mm) in II/III/aVF (‚ÄúP pulmonale‚Äù).</li>
            <li><strong>Left atrial enlargement</strong>: broad, notched P in II (‚ÄúP mitrale‚Äù); in V1, biphasic P with deep/wide terminal negative component.</li>
          </ul>

          <div class="image-block">
            <img src="ekg_images/p_mitrale_p_pulmonale.jpg" alt="P mitrale and P pulmonale examples" data-zoom tabindex="0" role="button" />
            <div class="image-caption">P pulmonale &amp; P mitrale (click to enlarge)</div>
          </div>
        </div>
      </div>

      <div class="card">
        <h2><span><span class="step-badge">4</span> PR interval</span></h2>
        <div class="step-body">
          Measure from P onset to QRS onset.
          <ul>
            <li>Normal ‚âà 0.12‚Äì0.20 s (3‚Äì5 small boxes).</li>
            <li>&gt;0.20 s with each P followed by QRS ‚Üí <strong>first-degree AV block</strong>.</li>
            <li>Very short PR (&lt;0.12 s) ‚Üí consider <strong>pre-excitation</strong>.</li>
            <li>Short PR + delta wave ‚Üí <strong>WPW</strong>.</li>
          </ul>

          <div class="image-block">
            <img src="ekg_images/short_pr_delta_wpw.jpeg" alt="Short PR with delta wave (WPW)" data-zoom tabindex="0" role="button" />
            <div class="image-caption">Short PR + delta wave (click to enlarge)</div>
          </div>
        </div>
      </div>
    </section>

    <section class="two-column">
      <div class="card">
        <h2><span><span class="step-badge">5</span> QRS axis (frontal plane)</span></h2>
        <div class="step-body">
          Quick method:
          <ul>
            <li>I &amp; II positive ‚Üí <strong>normal axis</strong>.</li>
            <li>I positive, II negative ‚Üí <strong>LAD</strong>.</li>
            <li>I negative, aVF positive ‚Üí <strong>RAD</strong>.</li>
            <li>I negative, aVF negative ‚Üí ‚Äúnorthwest‚Äù axis.</li>
          </ul>
          Combine with other findings (e.g., RBBB + LAD ‚Üí bifascicular).

          <div class="image-block">
            <img src="ekg_images/axis_circle_cabrera.webp" alt="Axis circle / Cabrera circle" data-zoom tabindex="0" role="button" />
            <div class="image-caption">Axis circle (click to enlarge)</div>
          </div>
        </div>
      </div>

      <div class="card">
        <h3>Axis categories</h3>
        <div class="mini-grid">
          <div class="mini-card"><h4>Normal</h4><p style="margin:0;">~ ‚àí30¬∞ to +90¬∞</p></div>
          <div class="mini-card"><h4>LAD</h4><p style="margin:0;">LVH, LAFB, inferior MI</p></div>
          <div class="mini-card"><h4>RAD</h4><p style="margin:0;">RVH, pulm HTN, LPFB</p></div>
          <div class="mini-card"><h4>Northwest</h4><p style="margin:0;">VT, severe disease, toxicity</p></div>
        </div>
      </div>
    </section>

    <section class="section-title"><span class="icon">üìà</span> Steps 6‚Äì8: QRS duration, rotation, hypertrophy / voltage</section>

    <section class="two-column">
      <div class="card">
        <h2><span><span class="step-badge">6</span> QRS duration &amp; bundle branch blocks</span></h2>
        <div class="step-body">
          <ul>
            <li>Narrow QRS: &lt;0.10 s.</li>
            <li>0.10‚Äì0.12 s: incomplete BBB possible.</li>
            <li>‚â•0.12 s: evaluate for BBB pattern (RBBB vs LBBB).</li>
            <li>RBBB: rSR‚Ä≤ in V1; wide terminal S in I/V6.</li>
            <li>LBBB: broad/notched R in I/V5‚ÄìV6; deep S in V1.</li>
          </ul>
        </div>
      </div>

      <div class="card">
        <h2><span><span class="step-badge">7</span> Precordial transition &amp; rotation</span></h2>
        <div class="step-body">
          <ul>
            <li>R/S ‚âà 1 around V3‚ÄìV4 (normal transition).</li>
            <li>Late transition (‚â•V5): clockwise rotation.</li>
            <li>Early transition (‚â§V2): counter-clockwise rotation.</li>
          </ul>

          <div class="image-block">
            <img src="ekg_images/precordial_normal_v1_v6.png" alt="Normal V1-V6 R wave progression" data-zoom tabindex="0" role="button" />
            <div class="image-caption">Normal precordial progression (click to enlarge)</div>
          </div>
        </div>
      </div>
    </section>

    <section class="two-column">
      <div class="card">
        <h2><span><span class="step-badge">8</span> Voltage &amp; ventricular hypertrophy</span></h2>
        <div class="step-body">
          <ul>
            <li><strong>LVH</strong>: high voltage (criteria vary) ¬± ‚Äústrain‚Äù ST/T changes.</li>
            <li><strong>RVH</strong>: tall R in V1 (R/S&gt;1) + deep S in V5‚ÄìV6; RAD supports.</li>
            <li><strong>Low voltage</strong>: &lt;0.5 mV limb leads ‚Üí consider effusion, COPD, obesity.</li>
          </ul>

          <div class="image-block">
            <img src="ekg_images/lvh_voltage_example.jpeg" alt="LVH voltage example" data-zoom tabindex="0" role="button" />
            <div class="image-caption">LVH voltage example (click to enlarge)</div>
          </div>

          <div class="image-block">
            <img src="ekg_images/rvh_r_in_v1.jpeg" alt="RVH example tall R in V1" data-zoom tabindex="0" role="button" />
            <div class="image-caption">RVH example (click to enlarge)</div>
          </div>
        </div>
      </div>

      <div class="card">
        <h3>When voltage matters</h3>
        <ul>
          <li>LVH + strain ‚Üí chronic pressure load (HTN, AS).</li>
          <li>RVH + RAD ‚Üí pulmonary HTN, chronic lung disease.</li>
          <li>Low voltage + tachycardia ‚Üí think tamponade.</li>
        </ul>
      </div>
    </section>

    <section class="section-title"><span class="icon">üöë</span> Steps 9‚Äì10: Q waves, ST segment &amp; T waves</section>

    <section class="two-column">
      <div class="card">
        <h2><span><span class="step-badge">9</span> Infarction signs &amp; localization</span></h2>
        <div class="step-body">
          <ul>
            <li>Pathologic Q waves; poor R progression; QS complexes.</li>
            <li>Inferior: II, III, aVF ¬∑ Anterior: V1‚ÄìV4 ¬∑ Lateral: I, aVL, V5‚ÄìV6.</li>
            <li>Posterior: ST depression V1‚ÄìV3 with tall R (mirror image).</li>
          </ul>

          <div class="image-block">
            <img src="ekg_images/stemi_inferior_example.png" alt="Inferior STEMI example" data-zoom tabindex="0" role="button" />
            <div class="image-caption">Inferior STEMI (click to enlarge)</div>
          </div>

          <div class="image-block">
            <img src="ekg_images/stemi_anterior_example.png" alt="Anterior STEMI example" data-zoom tabindex="0" role="button" />
            <div class="image-caption">Anterior STEMI (click to enlarge)</div>
          </div>
        </div>
      </div>

      <div class="card">
        <h2><span><span class="step-badge">10</span> ST segment &amp; T waves</span></h2>
        <div class="step-body">
          <ul>
            <li>Convex localized ST elevation in a territory ‚Üí STEMI.</li>
            <li>ST depression/T inversion ‚Üí subendocardial ischemia (UA/NSTEMI).</li>
            <li>Diffuse concave ST elevation ¬± PR changes ‚Üí pericarditis.</li>
            <li>LVH/BBB: repolarization is tricky‚Äîoften secondary changes.</li>
          </ul>

          <div class="image-block">
            <img src="ekg_images/st_patterns_panel.png" alt="ST/T pattern panel" data-zoom tabindex="0" role="button" />
            <div class="image-caption">ST/T pattern panel (click to enlarge)</div>
          </div>
        </div>
      </div>
    </section>

    <section class="section-title"><span class="icon">üß™</span> Step 11: QT, U waves &amp; electrolytes</section>

    <section class="two-column">
      <div class="card">
        <h2><span><span class="step-badge">11</span> QT interval &amp; U waves</span></h2>
        <div class="step-body">
          <ul>
            <li>Visual trick: if T ends before half of RR ‚Üí probably OK QT.</li>
            <li>If beyond half ‚Üí verify QTc (and meds/electrolytes).</li>
            <li>HyperK: tall peaked T ‚Üí loss of P ‚Üí widening QRS.</li>
            <li>HypoK: flattened T + prominent U waves + ST depression.</li>
            <li>HypoCa: long QT; HyperCa: short QT.</li>
          </ul>

          <div class="image-block">
            <img src="ekg_images/hyperkalemia_tall_t.png" alt="Hyperkalemia tall peaked T waves" data-zoom tabindex="0" role="button" />
            <div class="image-caption">HyperK example (click to enlarge)</div>
          </div>

          <div class="image-block">
            <img src="ekg_images/hypokalemia_u_wave.png" alt="Hypokalemia prominent U wave" data-zoom tabindex="0" role="button" />
            <div class="image-caption">HypoK example (click to enlarge)</div>
          </div>

          <div class="image-block">
            <img src="ekg_images/qt_long_short_examples.png" alt="QT long and short examples" data-zoom tabindex="0" role="button" />
            <div class="image-caption">QT long/short examples (click to enlarge)</div>
          </div>
        </div>
      </div>

      <div class="card">
        <h3>Putting it together in practice</h3>
        <p class="step-body">At the end of your run-through, you should be able to produce:</p>
        <ul>
          <li><strong>Rhythm line:</strong> ‚ÄúSinus rhythm at 82 bpm with normal axis and normal intervals.‚Äù</li>
          <li><strong>Summary line:</strong> ‚ÄúLVH with lateral strain; no definite acute ischemic changes.‚Äù</li>
        </ul>
        <p class="step-body">The ECG Interpreter Tool helps generate a copy-friendly version of this.</p>
      </div>
    </section>

    <p class="footer-note">
      Tip: use this guide while filling out the ECG Interpreter Tool so your mental checklist always follows the same order.
    </p>
  </div>

  <div id="imageModal" aria-hidden="true">
    <span id="modalClose" title="Close">&times;</span>
    <img id="modalImg" alt="Expanded ECG image" />
    <div id="modalHint">Click outside to close ¬∑ <kbd>Esc</kbd></div>
  </div>

  <script>
    (function () {
      const modal = document.getElementById("imageModal");
      const modalImg = document.getElementById("modalImg");
      const closeBtn = document.getElementById("modalClose");

      function openModal(src, alt) {
        modalImg.src = src;
        modalImg.alt = alt || "Expanded ECG image";
        modal.style.display = "flex";
        modal.setAttribute("aria-hidden", "false");
      }

      function closeModal() {
        modal.style.display = "none";
        modal.setAttribute("aria-hidden", "true");
        modalImg.src = "";
      }

      document.querySelectorAll("img[data-zoom]").forEach(img => {
        img.addEventListener("click", () => openModal(img.src, img.alt));
        img.addEventListener("keydown", (e) => {
          if (e.key === "Enter" || e.key === " ") {
            e.preventDefault();
            openModal(img.src, img.alt);
          }
        });
      });

      closeBtn.addEventListener("click", closeModal);

      modal.addEventListener("click", (e) => {
        if (e.target === modal) closeModal();
      });

      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape" && modal.style.display === "flex") closeModal();
      });
    })();
  </script>
</body>
</html>
